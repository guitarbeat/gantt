#!/bin/bash

# Git Pre-commit Hook Wrapper for Cursor CLI Integration
# This file should be copied to .git/hooks/pre-commit

# Get the project root directory
PROJECT_ROOT="$(cd "$(dirname "${BASH_SOURCE[0]}")/../.." && pwd)"

# Path to the Cursor CLI pre-commit script
CURSOR_SCRIPT="$PROJECT_ROOT/scripts/dev/cursor-precommit.sh"

# Check if the Cursor script exists
if [ ! -f "$CURSOR_SCRIPT" ]; then
    echo "‚ùå Cursor CLI pre-commit script not found at: $CURSOR_SCRIPT"
    echo "Please run 'make install-cursor-hooks' to install properly."
    exit 1
fi

# Make sure the script is executable
if [ ! -x "$CURSOR_SCRIPT" ]; then
    chmod +x "$CURSOR_SCRIPT"
fi

# Run the Cursor CLI pre-commit script
exec "$CURSOR_SCRIPT" "$@"
